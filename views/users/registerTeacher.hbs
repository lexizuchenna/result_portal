<link
  rel="stylesheet"
  type="text/css"
  href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css"
/>

<header class="header" data-header>
  <div class="container">
    <h1>
      <a href="/users/admin" class="logo">Result Portal</a>
    </h1>
    <button
      class="menu-toggle-btn icon-box"
      data-menu-toggle-btn
      aria-label="Toggle Menu"
    >
      <span class="material-symbols-rounded icon">menu</span>
    </button>

    <nav class="navbar">
      <div class="container">
        <ul class="navbar-list">
          <li>
            <a href="/users/admin" class="navbar-link icon-box">
              <span class="material-symbols-rounded icon">home</span>

              <span>Home</span>
            </a>
          </li>
          <li>
            <a href="/users/admin/teachers" class="navbar-link icon-box">
              <span class="material-symbols-rounded icon">group</span>

              <span>Teachers</span>
            </a>
          </li>
          <li>
            <a
              href="/users/admin/register-teachers"
              class="navbar-link active icon-box"
            >
              <span class="material-symbols-rounded icon">how_to_reg</span>

              <span>Register Teacher</span>
            </a>
          </li>
          <li>
            <a href="/users/admin/results" class="navbar-link icon-box">
              <span class="material-symbols-rounded icon">local_library</span>

              <span>Results</span>
            </a>
          </li>
          <li>
            <a
              href="/users/admin/results-archives"
              class="navbar-link icon-box"
            >
              <span class="material-symbols-rounded icon">archive</span>

              <span>Archives</span>
            </a>
          </li>
          <li>
            <a href="/users/admin/setting" class="navbar-link icon-box">
              <span class="material-symbols-rounded icon">settings</span>

              <span>Settings</span>
            </a>
          </li>
        </ul>

        <ul class="user-action-list">
          <li>
            <a href="#" class="header-profile">
              <div>
                <p class="profile-title">{{name}}</p>
              </div>
            </a>
          </li>
          <li>
            <a href="/users/logout" class="header-profile">
              <div>
                <p class="profile-title">logout</p>
              </div>
            </a>
          </li>
        </ul>
      </div>
    </nav>

  </div>
</header>
{{> _toasts}}
<main>
  <article class="container article">

    <p class="article-subtitle">Register a new teacher</p>

    <section class="home" style="width: 100%;">
      <div class="card profile-card" style="width: 100%;">
        <div class="profile-card-wrapper">
          <form
            class="fund-form"
            action="/users/admin/register-teachers"
            method="POST"
            style="width: 100%;"
          >
            <div class="form-control" style="width: 100%;">
              <input type="text" placeholder="Class" name="className" />
            </div>
            <div class="form-control" style="width: 100%;">
              <input
                type="text"
                placeholder="Teacher's Username"
                name="username"
              />
            </div>
            <div class="form-control" style="width: 100%;">
              <input type="text" placeholder="Session" name="session" />
            </div>
            <div class="form-control" style="width: 100%;">
              <input type="text" placeholder="Term" name="term" />
            </div>
            <div class="form-control" style="width: 100%;">
              <input type="text" placeholder="Resumption Date" name="resDate" />
            </div>
            <div id="sub-child">
              <div class="form-control flex" style="width: 100%;">
                <input
                  type="text"
                  placeholder="Subject..."
                  name="sub1"
                  id="sub-1"
                />
              </div>
            </div>
            <div class="form-control flex" style="width: 100%;" cl>
              <button
                style="display:inline-block; font-size: 15px; margin-left: 5px; background-color: #17a2b8; color:white; padding: 5px; text-align: center; font-weight: bold;"
                type="button"
                id="add-subject"
              >Add Subject</button>
            </div>
            <div class="form-control" style="width: 100%;">
              <input type="password" placeholder="Password" name="password" />
            </div>
            <div class="form-control" style="width: 100%;">
              <input
                type="password"
                placeholder="Repeat Password"
                name="password2"
              />
            </div>
            <button class="user-button">Register</button>
          </form>
        </div>
      </div>
    </section>

  </article>
</main>
{{> _toastfooter}}
<script>
  const subChild = document.getElementById('sub-child'); const addSubject =
  document.getElementById('add-subject'); addSubject.addEventListener('click',
  () => { let input = document.createElement('input'); let div =
  document.createElement('div'); let button = document.createElement('button');
  let lastChild = subChild.lastElementChild; let firstChild =
  lastChild.firstElementChild; let newArray =
  firstChild.getAttribute('id').split('-'); let number = parseInt(newArray[1]);
  div.setAttribute('class', 'form-control flex'); div.setAttribute('style',
  'width: 100%;'); input.setAttribute('type', `text`); input.setAttribute('id',
  `sub-${number +1}`); input.setAttribute('name', `sub${number +1}`);
  input.setAttribute('placeholder', `Subject...`); button.setAttribute('style',
  'display:inline-block; font-size: 18px; margin-left: 5px; ; background-color:
  #dc3545; color:white; padding: 7px; text-align: center; font-weight: bold;');
  button.setAttribute('class', 'remove'); button.setAttribute('type', 'button');
  button.innerText = 'X'; div.append(input); div.append(button);
  subChild.append(div); }) subChild.addEventListener('click', (e) => {
  if(e.target.classList.contains('remove')){ var div = e.target.parentElement;
  subChild.removeChild(div); } })
</script>