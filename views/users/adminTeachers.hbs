<header class="header" data-header>
  <div class="container">
    <h1>
      <a href="/users/admin" class="logo">Result Portal</a>
    </h1>
    <button
      class="menu-toggle-btn icon-box"
      data-menu-toggle-btn
      aria-label="Toggle Menu"
    >
      <span class="material-symbols-rounded icon">menu</span>
    </button>

    <nav class="navbar">
      <div class="container">
        <ul class="navbar-list">
          <li>
            <a href="/users/admin" class="navbar-link icon-box">
              <span class="material-symbols-rounded icon">home</span>

              <span>Home</span>
            </a>
          </li>
          <li>
            <a href="/users/admin/teachers" class="navbar-link active icon-box">
              <span class="material-symbols-rounded icon">group</span>

              <span>Teachers</span>
            </a>
          </li>
          <li>
            <a
              href="/users/admin/register-teachers"
              class="navbar-link icon-box"
            >
              <span class="material-symbols-rounded icon">how_to_reg</span>

              <span>Register Teacher</span>
            </a>
          </li>
          <li>
            <a href="/users/admin/results" class="navbar-link icon-box">
              <span class="material-symbols-rounded icon">local_library</span>

              <span>Results</span>
            </a>
          </li>
          <li>
            <a
              href="/users/admin/results-archives"
              class="navbar-link icon-box"
            >
              <span class="material-symbols-rounded icon">archive</span>

              <span>Archives</span>
            </a>
          </li>
          <li>
            <a href="/users/admin/setting" class="navbar-link icon-box">
              <span class="material-symbols-rounded icon">settings</span>

              <span>Settings</span>
            </a>
          </li>
        </ul>

        <ul class="user-action-list">
          <li>
            <a href="#" class="header-profile">
              <div>
                <p class="profile-title">{{name}}</p>
              </div>
            </a>
          </li>
          <li>
            <a href="/users/logout" class="header-profile">
              <div>
                <p class="profile-title">logout</p>
              </div>
            </a>
          </li>
        </ul>
      </div>
    </nav>

  </div>
</header>
{{> _toasts}}
<main>
  <article class="container article">

    <h2 class="h2 article-title">Hi {{user}}</h2>

    <p class="article-subtitle">Welcome to Result Portal</p>

    <section class="tasks" id="teachers">

      <div class="section-title-wrapper">
        <h2 class="section-title">Teachers</h2>
      </div>

      {{#if newTeachers}}
        {{#each newTeachers}}
          <form
            action="/users/admin/delete-teacher"
            method="post"
            style="margin-bottom: 10px;"
            class="forms"
          >
            <ul class="tasks-list">
              <li class="tasks-item">
                <div class="card task-card">

                  <div class="card-input">
                    <label for="task-1" class="task-label">
                      {{capitalize this.username}}
                    </label>
                  </div>

                  <div class="card-badge cyan radius-pill">{{capitalize this.className}}</div>

                  <ul class="card-meta-list">

                    <li>
                      <div class="meta-box icon-box">
                        <span>
                          <input
                            type="text"
                            value="{{this._id}}"
                            name="id"
                            style="display: none;"
                          />
                        </span>
                      </div>
                    </li>

                    <li class="flex">
                      <div class="card-badge blue mr">
                        <a
                          href="/users/admin/edit-teacher/{{this._id}}"
                          class="white"
                        >Edit</a>
                      </div>
                      <div class="card-badge red">
                        <button type="button" class="white delete">Delete</button>
                      </div>
                    </li>

                  </ul>

                </div>
              </li>
            </ul>
          </form>
        {{/each}}
      {{else}}
        <ul class="tasks-list">
          <li class="tasks-item">
            <div class="card task-card">
              <div class="card-input">
                <label for="task-1" class="task-label">
                  No Teacher
                </label>
              </div>
            </div>
          </li>
        </ul>
      {{/if}}
    </section>
  </article>
</main>
{{> _toastfooter}}
<script>
  teachers = document.getElementById('teachers')
  teachers.addEventListener('click', (e) => {
  if(e.target.classList.contains('delete')){
    var form = e.target.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode;
    if(confirm('Are You Sure?')){
      form.submit()
    }
  }
})
</script>